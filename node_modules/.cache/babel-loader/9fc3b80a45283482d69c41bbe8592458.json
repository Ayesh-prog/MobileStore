{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\User\\\\Desktop\\\\maria\\\\e-commerce-website-using-React-and-Redux\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\User\\\\Desktop\\\\maria\\\\e-commerce-website-using-React-and-Redux\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\User\\\\Desktop\\\\maria\\\\e-commerce-website-using-React-and-Redux\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\User\\\\Desktop\\\\maria\\\\e-commerce-website-using-React-and-Redux\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\User\\\\Desktop\\\\maria\\\\e-commerce-website-using-React-and-Redux\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\maria\\\\e-commerce-website-using-React-and-Redux\\\\src\\\\components\\\\ProductList.js\";\nimport React, { Component } from 'react';\nimport Product from './Product';\nimport { connect } from \"react-redux\";\nimport { Link, withRouter } from 'react-router-dom';\nimport { compose } from 'redux';\nimport Categories from './Categories';\nimport Pagination from '../pagination/Pagination';\nimport '../style/ProductList.css';\nimport PropTypes from 'prop-types';\nvar count = 0;\n\nvar ProductList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ProductList, _Component);\n\n  function ProductList() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ProductList);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ProductList)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      allProducts: [],\n      currentProducts: [],\n      currentPage: null,\n      totalPages: null,\n      refresh: true\n    };\n\n    _this.componentDidMount = function () {\n      count = 0;\n\n      _this.setState({\n        refresh: true\n      });\n    };\n\n    _this.onPageChanged = function (data) {\n      var allProducts = _this.state.allProducts;\n      var currentPage = data.currentPage,\n          totalPages = data.totalPages,\n          pageLimit = data.pageLimit;\n      var offset = (currentPage - 1) * pageLimit;\n      var currentProducts = allProducts.slice(offset, offset + pageLimit);\n\n      _this.setState({\n        currentPage: currentPage,\n        currentProducts: currentProducts,\n        totalPages: totalPages\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(ProductList, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (count == 0 && this.props.products.length > 0) {\n        this.setState({\n          allProducts: this.props.products\n        });\n        count++;\n      }\n    }\n  }, {\n    key: \"getProducts\",\n    value: function getProducts(products) {\n      if (count != 0) {\n        return products.length ? products.map(function (product) {\n          return React.createElement(\"div\", {\n            class: \"col-sm-6 col-md-4\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 45\n            },\n            __self: this\n          }, React.createElement(Product, {\n            id: product.id,\n            img: product.img,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 46\n            },\n            __self: this\n          }));\n        }) : React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }, \"There is no product\");\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          allProducts = _this$state.allProducts,\n          currentProducts = _this$state.currentProducts,\n          currentPage = _this$state.currentPage,\n          totalPages = _this$state.totalPages;\n      var totalProducts = allProducts.length;\n      if (totalProducts === 0) return React.createElement(\"div\", {\n        key: this.props.match.params.brand,\n        id: \"content\",\n        class: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"padding-top\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-4 col-md-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(Categories, {\n        p: this.props,\n        category: this.props.match.params.brand,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-sm-8 col-md-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-12 align-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(Pagination, {\n        totalRecords: totalProducts,\n        pageLimit: 6,\n        pageNeighbours: 1,\n        onPageChanged: this.onPageChanged,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      })))))));\n      var ProductsList = this.getProducts(this.state.currentProducts);\n      return React.createElement(\"div\", {\n        id: \"content\",\n        class: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"padding-top\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-4 col-md-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(Categories, {\n        category: \"All\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-sm-8 col-md-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, ProductsList, React.createElement(\"div\", {\n        className: \"col-md-12 align-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(Pagination, {\n        totalRecords: totalProducts,\n        pageLimit: 6,\n        pageNeighbours: 1,\n        onPageChanged: this.onPageChanged,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      })))))));\n    }\n  }]);\n\n  return ProductList;\n}(Component);\n\nProductList.propTypes = {\n  products: PropTypes.array\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    products: state.products.products\n  };\n};\n\nexport default compose(withRouter, connect(mapStateToProps))(ProductList); //export default withRouter(connect(mapStateToProps)(ProductList));","map":{"version":3,"sources":["C:\\Users\\User\\Desktop\\maria\\e-commerce-website-using-React-and-Redux\\src\\components\\ProductList.js"],"names":["React","Component","Product","connect","Link","withRouter","compose","Categories","Pagination","PropTypes","count","ProductList","state","allProducts","currentProducts","currentPage","totalPages","refresh","componentDidMount","setState","onPageChanged","data","pageLimit","offset","slice","props","products","length","map","product","id","img","totalProducts","match","params","brand","ProductsList","getProducts","propTypes","array","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport Product from './Product'\r\nimport { connect } from \"react-redux\";\r\nimport {Link,withRouter} from 'react-router-dom';\r\nimport {compose} from 'redux';\r\nimport Categories from './Categories'\r\nimport Pagination from '../pagination/Pagination'\r\nimport '../style/ProductList.css'\r\nimport PropTypes from 'prop-types';\r\n\r\nlet count = 0;\r\n class ProductList extends Component {\r\n  \r\n  state={\r\n    allProducts:[],\r\n    currentProducts: [], \r\n    currentPage: null, \r\n    totalPages: null,\r\n    refresh: true\r\n  }\r\ncomponentDidMount=()=>{\r\n  count=0;\r\n  this.setState({refresh:true});\r\n}\r\n \r\n  \r\n    componentDidUpdate(){\r\n      if((count == 0) && (this.props.products.length >0)){\r\n        this.setState({\r\n          allProducts: this.props.products\r\n        })\r\n      \r\n      count++;\r\n      }\r\n \r\n    }\r\n \r\n\r\n  getProducts(products){\r\n    if(count!=0){\r\n    return products.length? (\r\n      \r\n      products.map(product => {\r\n              return(\r\n                   <div class=\"col-sm-6 col-md-4\">\r\n                     <Product id = {product.id} img={product.img}/>\r\n                   </div>\r\n              )\r\n      })\r\n      \r\n    ):(<div></div>)\r\n    }\r\n    else\r\n     {\r\n        return(\r\n          <h3>There is no product</h3>\r\n          )\r\n        }\r\n  }\r\n\r\n  onPageChanged = data => {\r\n    const { allProducts } = this.state;\r\n    const { currentPage, totalPages, pageLimit } = data;\r\n\r\n    const offset = (currentPage - 1) * pageLimit;\r\n    const currentProducts = allProducts.slice(offset, offset + pageLimit);\r\n\r\n    this.setState({ currentPage, currentProducts, totalPages });\r\n  }\r\n\r\n  render() {\r\n    const { allProducts, currentProducts, currentPage, totalPages } = this.state;\r\n    const totalProducts = allProducts.length;\r\n    \r\n    if (totalProducts === 0) return (\r\n      <div   key = {this.props.match.params.brand} id=\"content\" class=\"container\">\r\n        <div className=\"padding-top\">\r\n        <div className=\"row\">\r\n          <div className=\"col-sm-4 col-md-3\">\r\n              <Categories p = {this.props}  category={this.props.match.params.brand}/>\r\n          </div>\r\n          <div className=\"col-sm-8 col-md-9\">\r\n            <div className=\"row\">\r\n            \r\n              <div className=\"col-md-12 align-right\">\r\n              <Pagination  totalRecords={totalProducts} pageLimit={6} pageNeighbours={1} onPageChanged={this.onPageChanged} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>     );\r\n    const  ProductsList= this.getProducts(this.state.currentProducts);\r\n    \r\n    return (\r\n\r\n            <div id=\"content\" class=\"container\">\r\n              <div className=\"padding-top\">\r\n              <div className=\"row\">\r\n                <div className=\"col-sm-4 col-md-3\">\r\n                    <Categories category=\"All\"/>\r\n                </div>\r\n                <div className=\"col-sm-8 col-md-9\">\r\n                  <div className=\"row\">\r\n                    {ProductsList}\r\n                    <div className=\"col-md-12 align-right\">\r\n                    <Pagination totalRecords={totalProducts} pageLimit={6} pageNeighbours={1} onPageChanged={this.onPageChanged} />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>          \r\n    )\r\n  }\r\n}\r\nProductList.propTypes = {\r\n  products: PropTypes.array\r\n};\r\n\r\nconst mapStateToProps = state =>{\r\n  return ({\r\n  products: state.products.products\r\n});\r\n}\r\nexport default compose(\r\n  withRouter,\r\n  connect(mapStateToProps)\r\n)(ProductList);\r\n//export default withRouter(connect(mapStateToProps)(ProductList));\r\n"]},"metadata":{},"sourceType":"module"}